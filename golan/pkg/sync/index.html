<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <title>sync - The Go Programming Language</title>

<script type='text/javascript'>window.mod_pagespeed_start = Number(new Date());</script><style>body{margin:0px;font-family:Helvetica,Arial,sans-serif;font-size:16px}pre,code{font-family:Menlo,monospace;font-size:14px}pre{line-height:18px}pre .comment{color:#060}body{color:#222}a,.exampleHeading .text{color:#375eab;text-decoration:none}a:hover,.exampleHeading .text:hover{text-decoration:underline}p,pre,ul,ol{margin:20px}pre{background-color:#e9e9e9;padding:10px;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;background-position:initial initial;background-repeat:initial initial}h1,h2,h3,h4,.rootHeading{margin:20px 0px;padding:0px;color:#375eab;font-weight:bold}h1{font-size:24px}h2{font-size:20px;background-color:#e0ebf5;padding:2px 5px;background-position:initial initial;background-repeat:initial initial}h3{font-size:20px}h3,h4{margin:20px 5px}h4{font-size:16px}dl{margin:20px}dd{margin:2px 20px}dl,dd{font-size:14px}table.dir th{text-align:left}table.dir td{word-wrap:break-word;vertical-align:top}div#page.wide table.dir td.name{white-space:nowrap}div#heading{float:left;margin:0px 0px 10px;padding:21px 0px;font-size:20px;font-weight:normal}div#heading a{color:#222;text-decoration:none}div#topbar{background-color:#e0ebf5;height:64px;overflow:hidden;background-position:initial initial;background-repeat:initial initial}body{text-align:center}div#page{width:100%}div#page>.container,div#topbar>.container{text-align:left;margin-left:auto;margin-right:auto;padding:0px 20px;width:900px}div#page.wide>.container,div#topbar.wide>.container{width:auto}div#plusone{float:right;clear:right;margin-top:5px}div#footer{text-align:center;color:#666;font-size:14px;margin:40px 0px}div#menu>a,div#menu>input,div#learn .buttons a,div.play .buttons a,div#blog .read a{padding:10px;text-decoration:none;font-size:16px;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div#playground .buttons a,div#menu>a,div#menu>input{border:1px solid #375eab}div#playground .buttons a,div#menu>a{color:#fff;background-color:#375eab;background-position:initial initial;background-repeat:initial initial}a#start,div#learn .buttons a,div.play .buttons a,div#blog .read a{color:#222;border:1px solid #375eab;background-color:#e0ebf5;background-position:initial initial;background-repeat:initial initial}div#menu{float:right;min-width:590px;padding:10px 0px;text-align:right}div#menu>a{margin-right:5px;margin-bottom:10px;padding:10px}div#menu>input{position:relative;top:1px;width:60px;background-color:#fff;color:#222;background-position:initial initial;background-repeat:initial initial}div#menu>input.inactive{color:#999}.toggleButton{cursor:pointer}.toggle .collapsed{display:block}.toggle .expanded{display:none}.toggleVisible .collapsed{display:none}.toggleVisible .expanded{display:block}h2{clear:right}div.play{padding:0px 20px 40px}div.play pre,div.play textarea,div.play .lines{padding:0px;margin:0px;font-family:Menlo,monospace;font-size:14px}div.play .input{padding:10px;margin-top:10px;border-top-left-radius:5px;border-top-right-radius:5px;overflow:hidden}div.play .input textarea{width:100%;height:100%;border:none;outline:none;resize:none;overflow:hidden}div#playground .input textarea{overflow:auto;resize:auto}div.play .output{padding:10px;max-height:200px;overflow:auto;border-bottom-right-radius:5px;border-bottom-left-radius:5px;border-top-style:none!important}div.play .output pre{padding:0px;border-top-left-radius:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:0px}div.play .input,div.play .input textarea,div.play .output,div.play .output pre{background-color:#ffffd8;background-position:initial initial;background-repeat:initial initial}div.play .input,div.play .output{border:1px solid #375eab}div.play .buttons{float:right;padding:20px 0px 10px;text-align:right}div.play .buttons a{height:16px;margin-left:5px;padding:10px;cursor:pointer}#playgroundButton,div#playground{display:none}div#playground{position:absolute;top:63px;right:20px;padding:0px 10px 10px;z-index:1;text-align:left;background-color:#e0ebf5;border-right-width:1px;border-bottom-width:1px;border-left-width:1px;border-style:none solid solid;border-right-color:#b0bbc5;border-bottom-color:#b0bbc5;border-left-color:#b0bbc5;border-bottom-left-radius:5px;border-bottom-right-radius:5px;background-position:initial initial;background-repeat:initial initial}div#playground .code{width:520px;height:200px}div#playground .output{height:100px}</style>

<link rel="search" type="application/opensearchdescription+xml" title="godoc" href="/opensearch.xml"/>

<script type="text/javascript">window.initFuncs=[];</script>
<script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-11222381-2"]);_gaq.push(["_trackPageview"]);</script>
<style>#feedback{display:block;float:right;margin-right:20px;padding:5px;font-size:14px;background:#e0ebf5;border:1px solid #e0ebf5;-webkit-border-bottom-left-radius:5px;-webkit-border-bottom-right-radius:5px;-moz-border-radius-bottomleft:5px;-moz-border-radius-bottomright:5px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}</style><link rel="dns-prefetch" href="//ajax.googleapis.com"><link rel="dns-prefetch" href="//1-ps.googleusercontent.com"><link rel="dns-prefetch" href="//www.gstatic.com"></head>
<body><noscript><meta HTTP-EQUIV="refresh" content="0;url='http://golang.org/pkg/sync/?ModPagespeed=noscript'" /><style><!--table,div,span,font,p{display:none} --></style><div style="display:block">Please click <a href="http://golang.org/pkg/sync/?ModPagespeed=noscript">here</a> if you are not redirected within a few seconds.</div></noscript>

<div id="topbar" class="wide"><div class="container">

<form method="GET" action="/search">
<div id="menu">
<a href="/doc/">Documents</a>
<a href="/ref/">References</a>
<a href="/pkg/">Packages</a>
<a href="/project/">The Project</a>
<a href="/help/">Help</a>

<a id="playgroundButton" href="http://play.golang.org/" title="Show Go Playground">Play</a>

<input type="text" id="search" name="q" class="inactive" value="Search" placeholder="Search">
</div>
<div id="heading"><a href="/">The Go Programming Language</a></div>
</form>

</div></div>


<div id="playground" class="play">
	<div class="input"><textarea class="code">package main

import "fmt"

func main() {
	fmt.Println("Hello, 世界")
}</textarea></div>
	<div class="output"></div>
	<div class="buttons">
		<a class="run" title="Run this code [shift-enter]">Run</a>
		<a class="fmt" title="Format this code">Format</a>
		<a class="share" title="Share this code">Share</a>
	</div>
</div>


<div id="page" class="wide">
<div class="container">


  <div id="plusone"><g:plusone size="small" annotation="none"></g:plusone></div>
  <h1>Package sync</h1>




<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "sync"</code></dd>
			</dl>
			<dl>
			<dd><a href="#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="#pkg-index" class="indexLink">Index</a></dd>
			
				<dd><a href="#pkg-examples" class="examplesLink">Examples</a></dd>
			
			
				<dd><a href="#pkg-subdirectories">Subdirectories</a></dd>
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>
Package sync provides basic synchronization primitives such as mutual
exclusion locks.  Other than the Once and WaitGroup types, most are intended
for use by low-level library routines.  Higher-level synchronization is
better done via channels and communication.
</p>
<p>
Values containing the types defined in this package should not be copied.
</p>

			</div>
		</div>
		

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
			
			
				
				<dd><a href="#Cond">type Cond</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#NewCond">func NewCond(l Locker) *Cond</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Cond.Broadcast">func (c *Cond) Broadcast()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Cond.Signal">func (c *Cond) Signal()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Cond.Wait">func (c *Cond) Wait()</a></dd>
				
			
				
				<dd><a href="#Locker">type Locker</a></dd>
				
				
			
				
				<dd><a href="#Mutex">type Mutex</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Mutex.Lock">func (m *Mutex) Lock()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#Mutex.Unlock">func (m *Mutex) Unlock()</a></dd>
				
			
				
				<dd><a href="#Once">type Once</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#Once.Do">func (o *Once) Do(f func())</a></dd>
				
			
				
				<dd><a href="#RWMutex">type RWMutex</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#RWMutex.Lock">func (rw *RWMutex) Lock()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#RWMutex.RLock">func (rw *RWMutex) RLock()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#RWMutex.RLocker">func (rw *RWMutex) RLocker() Locker</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#RWMutex.RUnlock">func (rw *RWMutex) RUnlock()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#RWMutex.Unlock">func (rw *RWMutex) Unlock()</a></dd>
				
			
				
				<dd><a href="#WaitGroup">type WaitGroup</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="#WaitGroup.Add">func (wg *WaitGroup) Add(delta int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#WaitGroup.Done">func (wg *WaitGroup) Done()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="#WaitGroup.Wait">func (wg *WaitGroup) Wait()</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		
		<div id="pkg-examples">
			<h4>Examples</h4>
			<dl>
			
			<dd><a class="exampleLink" href="#example_Once">Once</a></dd>
			
			<dd><a class="exampleLink" href="#example_WaitGroup">WaitGroup</a></dd>
			
			</dl>
		</div>
		

		
			<h4>Package files</h4>
			<p>
			<span style="font-size:90%">
			
				<a href="/src/pkg/sync/cond.go">cond.go</a>
			
				<a href="/src/pkg/sync/mutex.go">mutex.go</a>
			
				<a href="/src/pkg/sync/once.go">once.go</a>
			
				<a href="/src/pkg/sync/race0.go">race0.go</a>
			
				<a href="/src/pkg/sync/runtime.go">runtime.go</a>
			
				<a href="/src/pkg/sync/rwmutex.go">rwmutex.go</a>
			
				<a href="/src/pkg/sync/waitgroup.go">waitgroup.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		
		
		
		
			
			
			<h2 id="Cond">type <a href="/src/pkg/sync/cond.go?s=469:1484#L4">Cond</a></h2>
			<pre>type Cond struct {
        L <a href="#Locker">Locker</a> <span class="comment">// held while observing or changing the condition</span>
        <span class="comment">// contains filtered or unexported fields</span>
}</pre>
			<p>
Cond implements a condition variable, a rendezvous point
for goroutines waiting for or announcing the occurrence
of an event.
</p>
<p>
Each Cond has an associated Locker L (often a *Mutex or *RWMutex),
which must be held when changing the condition and
when calling the Wait method.
</p>


			

			

			

			
				
				<h3 id="NewCond">func <a href="/src/pkg/sync/cond.go?s=1531:1559#L28">NewCond</a></h3>
				<pre>func NewCond(l <a href="#Locker">Locker</a>) *<a href="#Cond">Cond</a></pre>
				<p>
NewCond returns a new Cond with Locker l.
</p>

				
			

			
				
				<h3 id="Cond.Broadcast">func (*Cond) <a href="/src/pkg/sync/cond.go?s=3097:3123#L99">Broadcast</a></h3>
				<pre>func (c *<a href="#Cond">Cond</a>) Broadcast()</pre>
				<p>
Broadcast wakes all goroutines waiting on c.
</p>
<p>
It is allowed but not required for the caller to hold c.L
during the call.
</p>

				
				
			
				
				<h3 id="Cond.Signal">func (*Cond) <a href="/src/pkg/sync/cond.go?s=2561:2584#L72">Signal</a></h3>
				<pre>func (c *<a href="#Cond">Cond</a>) Signal()</pre>
				<p>
Signal wakes one goroutine waiting on c, if there is any.
</p>
<p>
It is allowed but not required for the caller to hold c.L
during the call.
</p>

				
				
			
				
				<h3 id="Cond.Wait">func (*Cond) <a href="/src/pkg/sync/cond.go?s=2141:2162#L48">Wait</a></h3>
				<pre>func (c *<a href="#Cond">Cond</a>) Wait()</pre>
				<p>
Wait atomically unlocks c.L and suspends execution
of the calling goroutine.  After later resuming execution,
Wait locks c.L before returning.  Unlike in other systems,
Wait cannot return unless awoken by Broadcast or Signal.
</p>
<p>
Because c.L is not locked when Wait first resumes, the caller
typically cannot assume that the condition is true when
Wait returns.  Instead, the caller should Wait in a loop:
</p>
<pre>c.L.Lock()
for !condition() {
    c.Wait()
}
... make use of condition ...
c.L.Unlock()
</pre>

				
				
			
		
			
			
			<h2 id="Locker">type <a href="/src/pkg/sync/mutex.go?s=828:871#L17">Locker</a></h2>
			<pre>type Locker interface {
        Lock()
        Unlock()
}</pre>
			<p>
A Locker represents an object that can be locked and unlocked.
</p>


			

			

			

			

			
		
			
			
			<h2 id="Mutex">type <a href="/src/pkg/sync/mutex.go?s=712:760#L11">Mutex</a></h2>
			<pre>type Mutex struct {
        <span class="comment">// contains filtered or unexported fields</span>
}</pre>
			<p>
A Mutex is a mutual exclusion lock.
Mutexes can be created as part of other structures;
the zero value for a Mutex is an unlocked mutex.
</p>


			

			

			

			

			
				
				<h3 id="Mutex.Lock">func (*Mutex) <a href="/src/pkg/sync/mutex.go?s=1078:1100#L31">Lock</a></h3>
				<pre>func (m *<a href="#Mutex">Mutex</a>) Lock()</pre>
				<p>
Lock locks m.
If the lock is already in use, the calling goroutine
blocks until the mutex is available.
</p>

				
				
			
				
				<h3 id="Mutex.Unlock">func (*Mutex) <a href="/src/pkg/sync/mutex.go?s=2010:2034#L72">Unlock</a></h3>
				<pre>func (m *<a href="#Mutex">Mutex</a>) Unlock()</pre>
				<p>
Unlock unlocks m.
It is a run-time error if m is not locked on entry to Unlock.
</p>
<p>
A locked Mutex is not associated with a particular goroutine.
It is allowed for one goroutine to lock a Mutex and then
arrange for another goroutine to unlock it.
</p>

				
				
			
		
			
			
			<h2 id="Once">type <a href="/src/pkg/sync/once.go?s=260:305#L2">Once</a></h2>
			<pre>type Once struct {
        <span class="comment">// contains filtered or unexported fields</span>
}</pre>
			<p>
Once is an object that will perform exactly one action.
</p>


			

			

			<div id="example_Once" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example</span></p>
		
		
		
			<div class="play">
				<div class="input"><textarea class="code">package main

import (
	&#34;fmt&#34;
	&#34;sync&#34;
)

func main() {
	var once sync.Once
	onceBody := func() {
		fmt.Println(&#34;Only once&#34;)
	}
	done := make(chan bool)
	for i := 0; i &lt; 10; i++ {
		go func() {
			once.Do(onceBody)
			done &lt;- true
		}()
	}
	for i := 0; i &lt; 10; i++ {
		&lt;-done
	}
}
</textarea></div>
				<div class="output"><pre>Only once
</pre></div>
				<div class="buttons">
					<a class="run" title="Run this code [shift-enter]">Run</a>
					<a class="fmt" title="Format this code">Format</a>
					<a class="share" title="Share this code">Share</a>
				</div>
			</div>
		
	</div>
</div>


			

			
				
				<h3 id="Once.Do">func (*Once) <a href="/src/pkg/sync/once.go?s=1040:1067#L22">Do</a></h3>
				<pre>func (o *<a href="#Once">Once</a>) Do(f func())</pre>
				<p>
Do calls the function f if and only if the method is being called for the
first time with this receiver.  In other words, given
</p>
<pre>var once Once
</pre>
<p>
if once.Do(f) is called multiple times, only the first call will invoke f,
even if f has a different value in each invocation.  A new instance of
Once is required for each function to execute.
</p>
<p>
Do is intended for initialization that must be run exactly once.  Since f
is niladic, it may be necessary to use a function literal to capture the
arguments to a function to be invoked by Do:
</p>
<pre>config.once.Do(func() { config.init(filename) })
</pre>
<p>
Because no call to Do returns until the one call to f returns, if f causes
Do to be called, it will deadlock.
</p>

				
				
			
		
			
			
			<h2 id="RWMutex">type <a href="/src/pkg/sync/rwmutex.go?s=462:794#L8">RWMutex</a></h2>
			<pre>type RWMutex struct {
        <span class="comment">// contains filtered or unexported fields</span>
}</pre>
			<p>
An RWMutex is a reader/writer mutual exclusion lock.
The lock can be held by an arbitrary number of readers
or a single writer.
RWMutexes can be created as part of other
structures; the zero value for a RWMutex is
an unlocked mutex.
</p>


			

			

			

			

			
				
				<h3 id="RWMutex.Lock">func (*RWMutex) <a href="/src/pkg/sync/rwmutex.go?s=1966:1991#L62">Lock</a></h3>
				<pre>func (rw *<a href="#RWMutex">RWMutex</a>) Lock()</pre>
				<p>
Lock locks rw for writing.
If the lock is already locked for reading or writing,
Lock blocks until the lock is available.
To ensure that the lock eventually becomes available,
a blocked Lock call excludes new readers from acquiring
the lock.
</p>

				
				
			
				
				<h3 id="RWMutex.RLock">func (*RWMutex) <a href="/src/pkg/sync/rwmutex.go?s=862:888#L19">RLock</a></h3>
				<pre>func (rw *<a href="#RWMutex">RWMutex</a>) RLock()</pre>
				<p>
RLock locks rw for reading.
</p>

				
				
			
				
				<h3 id="RWMutex.RLocker">func (*RWMutex) <a href="/src/pkg/sync/rwmutex.go?s=3409:3444#L111">RLocker</a></h3>
				<pre>func (rw *<a href="#RWMutex">RWMutex</a>) RLocker() <a href="#Locker">Locker</a></pre>
				<p>
RLocker returns a Locker interface that implements
the Lock and Unlock methods by calling rw.RLock and rw.RUnlock.
</p>

				
				
			
				
				<h3 id="RWMutex.RUnlock">func (*RWMutex) <a href="/src/pkg/sync/rwmutex.go?s=1324:1352#L38">RUnlock</a></h3>
				<pre>func (rw *<a href="#RWMutex">RWMutex</a>) RUnlock()</pre>
				<p>
RUnlock undoes a single RLock call;
it does not affect other simultaneous readers.
It is a run-time error if rw is not locked for reading
on entry to RUnlock.
</p>

				
				
			
				
				<h3 id="RWMutex.Unlock">func (*RWMutex) <a href="/src/pkg/sync/rwmutex.go?s=2807:2834#L88">Unlock</a></h3>
				<pre>func (rw *<a href="#RWMutex">RWMutex</a>) Unlock()</pre>
				<p>
Unlock unlocks rw for writing.  It is a run-time error if rw is
not locked for writing on entry to Unlock.
</p>
<p>
As with Mutexes, a locked RWMutex is not associated with a particular
goroutine.  One goroutine may RLock (Lock) an RWMutex and then
arrange for another goroutine to RUnlock (Unlock) it.
</p>

				
				
			
		
			
			
			<h2 id="WaitGroup">type <a href="/src/pkg/sync/waitgroup.go?s=505:592#L7">WaitGroup</a></h2>
			<pre>type WaitGroup struct {
        <span class="comment">// contains filtered or unexported fields</span>
}</pre>
			<p>
A WaitGroup waits for a collection of goroutines to finish.
The main goroutine calls Add to set the number of
goroutines to wait for.  Then each of the goroutines
runs and calls Done when finished.  At the same time,
Wait can be used to block until all goroutines have finished.
</p>


			

			

			<div id="example_WaitGroup" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example</span></p>
		<p>This example fetches several URLs concurrently,
using a WaitGroup to block until all the fetches are complete.
</p>
		
		
			<div class="play">
				<div class="input"><textarea class="code">package main

import (
	&#34;net/http&#34;
	&#34;sync&#34;
)

func main() {
	var wg sync.WaitGroup
	var urls = []string{
		&#34;http://www.golang.org/&#34;,
		&#34;http://www.google.com/&#34;,
		&#34;http://www.somestupidname.com/&#34;,
	}
	for _, url := range urls {
		// Increment the WaitGroup counter.
		wg.Add(1)
		// Launch a goroutine to fetch the URL.
		go func(url string) {
			// Decrement the counter when the goroutine completes.
			defer wg.Done()
			// Fetch the URL.
			http.Get(url)
		}(url)
	}
	// Wait for all HTTP fetches to complete.
	wg.Wait()
}
</textarea></div>
				<div class="output"><pre></pre></div>
				<div class="buttons">
					<a class="run" title="Run this code [shift-enter]">Run</a>
					<a class="fmt" title="Format this code">Format</a>
					<a class="share" title="Share this code">Share</a>
				</div>
			</div>
		
	</div>
</div>


			

			
				
				<h3 id="WaitGroup.Add">func (*WaitGroup) <a href="/src/pkg/sync/waitgroup.go?s=1584:1619#L34">Add</a></h3>
				<pre>func (wg *<a href="#WaitGroup">WaitGroup</a>) Add(delta <a href="/pkg/builtin/#int">int</a>)</pre>
				<p>
Add adds delta, which may be negative, to the WaitGroup counter.
If the counter becomes zero, all goroutines blocked on Wait are released.
If the counter goes negative, Add panics.
</p>
<p>
Note that calls with positive delta must happen before the call to Wait,
or else Wait may wait for too small a group. Typically this means the calls
to Add should execute before the statement creating the goroutine or
other event to be waited for. See the WaitGroup example.
</p>

				
				
			
				
				<h3 id="WaitGroup.Done">func (*WaitGroup) <a href="/src/pkg/sync/waitgroup.go?s=2085:2112#L58">Done</a></h3>
				<pre>func (wg *<a href="#WaitGroup">WaitGroup</a>) Done()</pre>
				<p>
Done decrements the WaitGroup counter.
</p>

				
				
			
				
				<h3 id="WaitGroup.Wait">func (*WaitGroup) <a href="/src/pkg/sync/waitgroup.go?s=2182:2209#L63">Wait</a></h3>
				<pre>func (wg *<a href="#WaitGroup">WaitGroup</a>) Wait()</pre>
				<p>
Wait blocks until the WaitGroup counter is zero.
</p>

				
				
			
		
	

	





	
	
		<h2 id="pkg-subdirectories">Subdirectories</h2>
	
	<table class="dir">
	<tr>
	<th>Name</th>
	<th>&nbsp;&nbsp;&nbsp;&nbsp;</th>
	<th style="text-align: left; width: auto">Synopsis</th>
	</tr>
	
		<tr>
		<td><a href="..">..</a></td>
		</tr>
	
	
		
			<tr>
			<td class="name"><a href="atomic/">atomic</a></td>
			<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
			<td style="width: auto">Package atomic provides low-level atomic memory primitives useful for implementing synchronization algorithms.</td>
			</tr>
		
	
	</table>
	



<div id="footer">
Build version go1.1.2.<br>
Except as <a href="http://code.google.com/policies.html#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="/LICENSE">BSD license</a>.<br>
<a href="/doc/tos.html">Terms of Service</a> | 
<a href="http://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>

<script type="text/javascript" src="http://1-ps.googleusercontent.com/x/s.golang-org.appspot.com/golang.org/lib/godoc/playground.js.pagespeed.jm.Up9d4M3oKE.js"></script>

<script type="text/javascript" src="/lib/godoc/godocs.js"></script>

<script type="text/javascript" src="//www.gstatic.com/feedback/api.js"></script>
<script type="text/javascript">$(function(){if(!$('#topbar').is('.wide'))return;$('<a href="#feedback" id="feedback">Send Feedback</a>').insertAfter('#topbar');$('#feedback').click(function(){userfeedback.api.startFeedback({'productId':'92634','bucket':'godoc'});return false;});});</script>



<script type="text/javascript">(function(){var ga=document.createElement("script");ga.type="text/javascript";ga.async=true;ga.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(ga,s);})();</script>
<noscript class="psa_add_styles"><link type="text/css" rel="stylesheet" href="http://1-ps.googleusercontent.com/x/s.golang-org.appspot.com/golang.org/lib/godoc/A.style.css.pagespeed.cf.NnmSRHJsAc.css"><style>#feedback{display:block;float:right;margin-right:20px;padding:5px;font-size:14px;background:#e0ebf5;border:1px solid #e0ebf5;-webkit-border-bottom-left-radius:5px;-webkit-border-bottom-right-radius:5px;-moz-border-radius-bottomleft:5px;-moz-border-radius-bottomright:5px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}</style></noscript><script pagespeed_no_defer="">var stylesAdded=false;var addAllStyles=function(){if(stylesAdded)return;stylesAdded=true;var div=document.createElement("div");var styleText="";var styleElements=document.getElementsByClassName("psa_add_styles");for(var i=0;i<styleElements.length;++i){styleText+=styleElements[i].textContent||styleElements[i].innerHTML||styleElements[i].data||"";}div.innerHTML=styleText;document.body.appendChild(div);};if(window.addEventListener){document.addEventListener("DOMContentLoaded",addAllStyles,false);window.addEventListener("load",addAllStyles,false);}else if(window.attachEvent){window.attachEvent("onload",addAllStyles);}else{window.onload=addAllStyles;}window['pagespeed']=window['pagespeed']||{};window['pagespeed']['criticalCss']={'total_critical_inlined_size':5327,'total_original_external_size':6889,'total_overhead_size':5703,'num_replaced_links':1,'num_unreplaced_links':0};</script><script pagespeed_no_defer="">(function(){var e=window,f=Math,g="round",h="performance",k="&rit_script=",r="&rit_link=",y="&rit_img=",z="&rit_css=",A="&nttfb=",B="&nfd=",C="&ndt=",D="&nct=",E="&nbt=",F="&mfd=",G="&attfb=",H="&afd=",I="&adt=",J="&act=",K="&abt=",L="";e.pagespeed=e.pagespeed||{};var M=e.pagespeed;
M.getResourceTimingData=function(){if(e[h]&&(e[h].getEntries||e[h].webkitGetEntries)){for(var s=0,t=0,l=0,u=0,m=0,v=0,n=0,w=0,p=0,x=0,q=0,c={},d=e[h].getEntries?e[h].getEntries():e[h].webkitGetEntries(),b=0;b<d.length;b++){var a=d[b].duration;0<a&&(s+=a,++l,t=f.max(t,a));a=d[b].connectEnd-d[b].connectStart;0<a&&(v+=a,++n);a=d[b].domainLookupEnd-d[b].domainLookupStart;0<a&&(u+=a,++m);a=d[b].initiatorType;c[a]?++c[a]:c[a]=1;a=d[b].requestStart-d[b].fetchStart;0<a&&(x+=a,++q);a=d[b].responseStart-d[b].requestStart;
0<a&&(w+=a,++p)}return H+(l?f[g](s/l):0)+B+l+F+f[g](t)+J+(n?f[g](v/n):0)+D+n+I+(m?f[g](u/m):0)+C+m+K+(q?f[g](x/q):0)+E+q+G+(p?f[g](w/p):0)+A+p+(c.css?z+c.css:L)+(c.link?r+c.link:L)+(c.script?k+c.script:L)+(c.img?y+c.img:L)}return L};M.getResourceTimingData=M.getResourceTimingData;})();
(function(){var c=encodeURIComponent,f=window,h="performance",k="unload:",l="on",m="load:",n="load",p="ets=",q="beforeunload",r="EventStart",s="?",t="=",u="&url=",v="&ttfb=",w="&req_start=",x="&ref=",y="&r",z="&nt=",A="&nrp=",B="&nav=",C="&ifr=1",D="&ifr=0",E="&htmlAt=",F="&fp=",G="&dwld=",H="&dom_c=",I="&dns=",J="&connect=",K="&ccul=",L="&ccrl=",M="&ccos=",N="&ccis=",O="&cces=",P="&b_csi=",Q="&",R="";f.pagespeed=f.pagespeed||{};var S=f.pagespeed,T=function(a,d,b,e){this.d=a;this.a=d;this.b=b;this.e=e};S.beaconUrl=R;
T.prototype.c=function(){var a=this.d,d=f.mod_pagespeed_start,b=Number(new Date)-d,a=a+(-1==a.indexOf(s)?s:Q),a=a+p+(this.a==n?m:k),a=a+b;if(this.a!=q||!f.mod_pagespeed_loaded){a+=y+this.a+t;if(f[h]){var b=f[h].timing,e=b.navigationStart,g=b.requestStart,a=a+(b[this.a+r]-e),a=a+(B+(b.fetchStart-e)),a=a+(I+(b.domainLookupEnd-b.domainLookupStart)),a=a+(J+(b.connectEnd-b.connectStart)),a=a+(w+(g-e)),a=a+(v+(b.responseStart-g)),a=a+(G+(b.responseEnd-b.responseStart)),a=a+(H+(b.domContentLoadedEventStart-
e));f[h].navigation&&(a+=z+f[h].navigation.type);e=-1;b.msFirstPaint?e=b.msFirstPaint:f.chrome&&f.chrome.loadTimes&&(e=Math.floor(1E3*f.chrome.loadTimes().firstPaintTime));e-=g;0<=e&&(a+=F+e)}else a+=b;S.getResourceTimingData&&f.parent==f&&(a+=S.getResourceTimingData());a+=f.parent!=f?C:D;this.a==n&&(f.mod_pagespeed_loaded=!0,(b=f.mod_pagespeed_num_resources_prefetched)&&(a+=A+b),(b=f.mod_pagespeed_prefetch_start)&&(a+=E+(d-b)));S.panelLoader&&(d=S.panelLoader.getCsiTimingsString(),d!=R&&(a+=P+d));
S.criticalCss&&(d=S.criticalCss,a+=N+d.total_critical_inlined_size+O+d.total_original_external_size+M+d.total_overhead_size+L+d.num_replaced_links+K+d.num_unreplaced_links);this.b!=R&&(a+=this.b);document.referrer&&(a+=x+c(document.referrer));a+=u+c(this.e);S.beaconUrl=a;(new Image).src=a}};S.f=function(a,d,b,e){var g=new T(a,d,b,e);f.addEventListener?f.addEventListener(d,function(){g.c()},!1):f.attachEvent(l+d,function(){g.c()})};S.addInstrumentationInit=S.f;})();

pagespeed.addInstrumentationInit('http://1-ps.googleusercontent.com/beacon?org=104_1_vo', 'load', '&ft=48&id=1376728502803058', 'http://golang.org/pkg/sync/');</script></body>
</html>

